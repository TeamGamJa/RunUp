<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="running">
   
   <select id="selectCategoryBigList" resultType="String">
    <![CDATA[
      select distinct categoryBig from category
    ]]>  
   </select>
   
   <select id="selectCategoryMediumList" resultType="String">
    <![CDATA[
      select distinct categoryMedium from category where categoryBig = #{categoryBig}
    ]]>  
   </select>
   
   <select id="selectRunningList" parameterType = "Running" resultType="Running">
   <![CDATA[
   	  select * 
   	  from running where runningShow = 1
   ]]>
   </select>
   
   <select id="selectRunningByKeyword" parameterType="String" resultType="Running">
   <![CDATA[
      select *
      from running where runningShow = 1 and runningTitle Like CONCAT('%', #{keyword},'%')
   ]]>
   </select>
   
   <insert id="createRunning" parameterType="Running">
   <![CDATA[
     insert into running(runningTitle,runningContent,runningCategorybig,
     runningCategorymedium, runningStartbig, runningStartsmall, runnihgEndbig, runningEndsmall,runningKeep,userNum) 
     values (#{runningTitle}, #{runningContent}, #{runningCategorybig}, #{runningCategorymedium}, #{runningStartbig}, 
     #{runningStartsmall}, #{runningEndbig}, #{runningEndsmall}, #{runningKeep}, #{userNum})
   ]]>
   </insert>
   
   <delete id="deleteRunning" parameterType="Running">
   <![CDATA[
     delete from running where userNum = #{userNum} and runningNum = #{runningNum}
   ]]>
   </delete>
   
   <update id="updateRunning" parameterType="Running" >
   <![CDATA[
     update running set runningTitle = #{runningTitle}, runningContent = #{runningContent}, 
     runningCategorybig = #{runningCategorybig}, runningCategorymedium = #{runningCategorymedium},
     runningStartbig = #{runningStartbig}, runningStartsmall = #{runningStartsmall}, 
     runningEndbig = #{running 
     where userNum = #{userNum} and runningNum = #{runningNum}
   ]]>
   </update>
   
</mapper>